<!--jiajunjun-project1-20180820-caculator-easy.js-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>caculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script> -->
</head>

<body>
    <h3>This is a caculator</h3>
    <input type="text" id="num1">
    <select id="caculate">

        <option id="add" selected="" value="+">+</option>
        <option id="sub" value="-">-</option>
        <option id="mul" value="*">*</option>
        <option id="div" value="/">&divide;</option>
        
    </select>
    <input type="text" id="num2">
    <button type="button" id="equal">=</button>
    <input type="text" id="result" value="hh">
    <script>
        // 直接选择被选中的option   var caculate = ocument.querySelector('select[name=flag]');

        //方法二，原生拿id，拿index，拿值
        var myselect = document.getElementById("caculate");
        //先拿到select，然后拿到被选中的option的index；
        var index = myselect.selectedIndex;
        var optionSelect = myselect.options[index].value;
        //点击等号，开始运算，并显示结果
        var equal = document.getElementById("equal");
        equal.onclick = function() {
            getInputNums();
            if (optionSelect == "+") {
                var r = add(num1_num, num2_num);
            } else if (optionSelect == "-") {
                var r = sub(num1_num, num2_num);
            } else if (optionSelect == "*") {
                var r = mul(num1_num, num2_num);
            } else if (optionSelect == "/") {
                var r = div(num1_num, num2_num);
            }
            sendResult(r);
            result(r);
        }



        //get the numbers that user inputs
        var num1_num;
        var num2_num;
        //+ - * /
        function add(x, y) {
            return x + y;
        }

        function sub(x, y) {
            return x - y;
        }

        function mul(x, y) {
            return x * y;
        }

        function div(x, y) {
            if (y == 0) {
                return "0不能做除数，请重新输入第二个数字"
            } else {
                return x / y;
            }
        }
        //return result 
        function result(r) {
            alert(r);
        }
        /*addBtn.onclick = function() {
            getInputNums();
            var r = add(num1_num, num2_num);
            sendResult(r);
            result(r);
        }
        subBtn.onclick = function() {
            getInputNums();
            var r = sub(num1_num, num2_num);
            sendResult(r);
            result(r);
        }
        mulBtn.onclick = function() {
            getInputNums();
            var r = mul(num1_num, num2_num);
            sendResult(r);
            result(r);
        }
        divBtn.onclick = function() {
            getInputNums();
            var r = div(num1_num, num2_num);
            sendResult(r);
            result(r);
        }*/

        //show result 
        function sendResult(r) {
            var show = document.getElementById("result");
            show.value = r;
        }

        //get userInput and judge
        function getInputNums() {
            var num1 = document.getElementById("num1").value;
            var num2 = document.getElementById("num2").value;
            if (num1 == "" || num1 == null || num2 == "" || num2 == null) {
                alert("抱歉你未输入任何数字,无法计算");
                isTure = false;
                exit();
            } else if (!isNaN(num1) && !isNaN(num2)) {
                num1_num = parseFloat(num1);
                num2_num = parseFloat(num2);

            } else {
                alert("抱歉你输入的不是数字,无法计算")
                isTure = false;
                exit();
            }
        }
    </script>
</body>

</html>